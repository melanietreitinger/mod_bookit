{"version":3,"file":"event_details_modal.min.js","sources":["../src/event_details_modal.js"],"sourcesContent":["define(['jquery', 'core_form/modalform'], function($, ModalForm) {\n    return {\n        init: function() {\n            document.addEventListener('click', function(e) {\n                const link = e.target.closest('.bookit-event-link');\n                if (!link) {\n                    return;\n                }\n\n                e.preventDefault();\n                const cmid = link.dataset.cmid;\n                const event = link.dataset.eventid;\n\n                const modal = new ModalForm({\n                    formClass: 'mod_bookit\\\\form\\\\edit_event_form',\n                    args: {cmid: cmid, id: event, readonly: 1},\n                    modalConfig: {title: link.textContent.trim()}\n                });\n\n                modal.addEventListener(modal.events.FORM_SUBMITTED, function() {\n                    window.location.reload();\n                });\n\n                modal.show();\n            });\n        }\n    };\n});\n"],"names":["define","$","ModalForm","init","document","addEventListener","e","link","target","closest","preventDefault","cmid","dataset","event","eventid","modal","formClass","args","id","readonly","modalConfig","title","textContent","trim","events","FORM_SUBMITTED","window","location","reload","show"],"mappings":"AAAAA,wCAAO,CAAC,SAAU,wBAAwB,SAASC,EAAGC,iBAC3C,CACHC,KAAM,WACFC,SAASC,iBAAiB,SAAS,SAASC,SAClCC,KAAOD,EAAEE,OAAOC,QAAQ,0BACzBF,YAILD,EAAEI,uBACIC,KAAOJ,KAAKK,QAAQD,KACpBE,MAAQN,KAAKK,QAAQE,QAErBC,MAAQ,IAAIb,UAAU,CACxBc,UAAW,oCACXC,KAAM,CAACN,KAAMA,KAAMO,GAAIL,MAAOM,SAAU,GACxCC,YAAa,CAACC,MAAOd,KAAKe,YAAYC,UAG1CR,MAAMV,iBAAiBU,MAAMS,OAAOC,gBAAgB,WAChDC,OAAOC,SAASC,YAGpBb,MAAMc"}